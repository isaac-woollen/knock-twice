{
  "version": 3,
  "sources": ["../../../../app/routes/($locale).collections.$handle.jsx"],
  "sourcesContent": ["// REMIX HMR BEGIN\nif (!window.$RefreshReg$ || !window.$RefreshSig$ || !window.$RefreshRuntime$) {\n  console.warn('remix:hmr: React Fast Refresh only works when the Remix compiler is running in development mode.');\n} else {\n  var prevRefreshReg = window.$RefreshReg$;\n  var prevRefreshSig = window.$RefreshSig$;\n  window.$RefreshReg$ = (type, id) => {\n    window.$RefreshRuntime$.register(type, \"\\\"app\\\\\\\\routes\\\\\\\\($locale).collections.$handle.jsx\\\"\" + id);\n  }\n  window.$RefreshSig$ = window.$RefreshRuntime$.createSignatureFunctionForTransform;\n}\nvar _s = $RefreshSig$(),\n  _s2 = $RefreshSig$();\nimport * as __hmr__ from \"remix:hmr\";\nif (import.meta) {\n  import.meta.hot = __hmr__.createHotContext(\n  //@ts-expect-error\n  \"app\\\\routes\\\\($locale).collections.$handle.jsx\");\n  import.meta.hot.lastModified = \"1701645154225.434\";\n}\n// REMIX HMR END\n\nimport { json, redirect } from '@shopify/remix-oxygen';\nimport { useLoaderData, Link } from '@remix-run/react';\nimport { Pagination, getPaginationVariables, Image, Money } from '@shopify/hydrogen';\nimport { useVariantUrl } from '~/utils';\nimport { useState } from 'react';\n\n/**\n * @type {MetaFunction<typeof loader>}\n */\nexport const meta = ({\n  data\n}) => {\n  return [{\n    title: `KT | ${data?.collection.title ?? ''}`\n  }];\n};\n\n/**\n * @param {LoaderFunctionArgs}\n */\nexport async function loader({\n  request,\n  params,\n  context\n}) {\n  const {\n    handle\n  } = params;\n  const {\n    storefront\n  } = context;\n  const paginationVariables = getPaginationVariables(request, {\n    pageBy: 8\n  });\n  if (!handle) {\n    return redirect('/collections');\n  }\n  const {\n    collection\n  } = await storefront.query(COLLECTION_QUERY, {\n    variables: {\n      handle,\n      ...paginationVariables\n    }\n  });\n  if (!collection) {\n    throw new Response(`Collection ${handle} not found`, {\n      status: 404\n    });\n  }\n  return json({\n    collection\n  });\n}\nexport default function Collection() {\n  _s();\n  /** @type {LoaderReturnData} */\n  const {\n    collection\n  } = useLoaderData();\n  const [currentProduct, setCurrentProduct] = useState(0);\n  const incrementProduct = () => {\n    if (currentProduct < collection.products.nodes.length - 1) {\n      setCurrentProduct(currentProduct + 1);\n    }\n  };\n  const decrementProduct = () => {\n    if (currentProduct > 0) {\n      setCurrentProduct(currentProduct - 1);\n    }\n  };\n  return <div className=\"collection\" style={{\n    display: \"block\"\n  }}>\n      <div style={{\n      display: \"flex\",\n      justifyContent: 'center',\n      alignItems: 'center'\n    }}>\n        <div style={{\n        display: \"block\"\n      }}>\n          <button onClick={() => decrementProduct()}>Previous Item</button>\n          <button onClick={() => incrementProduct()}>Next Item</button>\n          <p>{currentProduct}</p>\n        </div>\n      </div>\n      \n\n      <ProductItem product={collection.products.nodes[currentProduct]}></ProductItem>\n\n      <div style={{\n      display: \"flex\",\n      justifyContent: 'center',\n      alignItems: 'center'\n    }}>\n        <div style={{\n        display: \"flex\",\n        justifyContent: 'center',\n        alignItems: 'center'\n      }}>\n          <div style={{\n          display: \"block\"\n        }}><h1>{collection.title}</h1></div>\n          <div className=\"collection-description\" style={{\n          display: \"block\"\n        }}>{collection.description}</div>\n        </div>\n      </div>\n    </div>;\n}\n\n/**\n * @param {{\n *   product: ProductItemFragment;\n *   loading?: 'eager' | 'lazy';\n * }}\n */\n_s(Collection, \"ywiTxR9UDj2dntaLYz+UKikQ9JE=\", false, function () {\n  return [useLoaderData];\n});\n_c = Collection;\nfunction ProductItem({\n  product\n}) {\n  _s2();\n  const variant = product.variants.nodes[0];\n  const variantUrl = useVariantUrl(product.handle, variant.selectedOptions);\n  return <div style={{\n    display: \"flex\",\n    justifyContent: \"center\",\n    alignItems: \"center\"\n  }}>\n      <div style={{\n      display: \"block\"\n    }}>\n        <Link key={product.id} prefetch=\"intent\" to={variantUrl}>\n          {product.featuredImage && <Image alt={product.featuredImage.altText || product.title} aspectRatio=\"1/1\" data={product.featuredImage} width={256} />}\n        </Link>\n\n        <h4>{product.title}</h4>\n        <small>\n          <Money data={product.priceRange.minVariantPrice} />\n        </small>\n      </div>\n    </div>;\n}\n_s2(ProductItem, \"nMvLa90vVAAaUlSeOyDZ+HVBu0M=\", false, function () {\n  return [useVariantUrl];\n});\n_c2 = ProductItem;\nconst PRODUCT_ITEM_FRAGMENT = `#graphql\n  fragment MoneyProductItem on MoneyV2 {\n    amount\n    currencyCode\n  }\n  fragment ProductItem on Product {\n    id\n    handle\n    title\n    featuredImage {\n      id\n      altText\n      url\n      width\n      height\n    }\n    priceRange {\n      minVariantPrice {\n        ...MoneyProductItem\n      }\n      maxVariantPrice {\n        ...MoneyProductItem\n      }\n    }\n    variants(first: 1) {\n      nodes {\n        selectedOptions {\n          name\n          value\n        }\n      }\n    }\n  }\n`;\n\n// NOTE: https://shopify.dev/docs/api/storefront/2022-04/objects/collection\nconst COLLECTION_QUERY = `#graphql\n  ${PRODUCT_ITEM_FRAGMENT}\n  query Collection(\n    $handle: String!\n    $country: CountryCode\n    $language: LanguageCode\n    $first: Int\n    $last: Int\n    $startCursor: String\n    $endCursor: String\n  ) @inContext(country: $country, language: $language) {\n    collection(handle: $handle) {\n      id\n      handle\n      title\n      description\n      products(\n        first: $first,\n        last: $last,\n        before: $startCursor,\n        after: $endCursor\n      ) {\n        nodes {\n          ...ProductItem\n        }\n        pageInfo {\n          hasPreviousPage\n          hasNextPage\n          endCursor\n          startCursor\n        }\n      }\n    }\n  }\n`;\n\n/** @typedef {import('@shopify/remix-oxygen').LoaderFunctionArgs} LoaderFunctionArgs */\n/** @template T @typedef {import('@remix-run/react').MetaFunction<T>} MetaFunction */\n/** @typedef {import('storefrontapi.generated').ProductItemFragment} ProductItemFragment */\n/** @typedef {import('@shopify/remix-oxygen').SerializeFrom<typeof loader>} LoaderReturnData */\nvar _c, _c2;\n$RefreshReg$(_c, \"Collection\");\n$RefreshReg$(_c2, \"ProductItem\");\n\nwindow.$RefreshReg$ = prevRefreshReg;\nwindow.$RefreshSig$ = prevRefreshSig;"],
  "mappings": "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",
  "names": ["import_react"]
}
